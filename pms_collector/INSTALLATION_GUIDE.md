# PMS数据采集助手插件安装指南

## 插件信息

- **插件名称**：PMS数据采集助手
- **版本**：1.0.0
- **类型**：Chrome浏览器扩展（Manifest V3）
- **功能**：自动识别PMS页面，一键上传数据到收益管理系统

## 安装步骤

### 1. 准备插件文件

插件文件已经创建在以下目录：
```
/Users/Administrator/Downloads/酒店管理系统开发/pms_data_collector/
```

### 2. 打开Chrome扩展管理页面

1. 在Chrome浏览器中输入以下地址：
   ```
   chrome://extensions/
   ```

2. 开启右上角的**开发者模式**开关

### 3. 加载插件

1. 点击页面左上角的**加载已解压的扩展程序**按钮

2. 在弹出的文件选择对话框中，选择插件目录：
   ```
   /Users/Administrator/Downloads/酒店管理系统开发/pms_data_collector/
   ```

3. 点击**选择文件夹**按钮

### 4. 验证安装

安装成功后，您会在扩展管理页面看到"PMS数据采集助手"插件，状态为已启用。

### 5. 固定插件到工具栏

1. 点击Chrome浏览器右上角的拼图图标
2. 找到"PMS数据采集助手"插件
3. 点击插件右侧的固定图标（图钉），将其固定到工具栏

## 配置插件

1. 点击工具栏上的"PMS数据采集助手"图标
2. 在弹出的管理界面中，输入以下配置：
   - **API地址**：`https://revenuepilot.wangqihao520.workers.dev`
   - **门店ID**：（请输入您的门店ID）
3. 点击**保存配置**按钮
4. 看到"配置保存成功"提示后，配置完成

## 使用方法

1. **访问PMS页面**：
   - 打开远期报表：`https://cmsplus.zhuzher.com/datacenter/report/forward`
   - 或打开实时运营报表：`https://cmsplus.zhuzher.com/datacenter/report/operation/realtime`

2. **上传数据**：
   - 方法一：点击页面右上角的"📊 一键上传PMS数据"按钮
   - 方法二：在页面上右键点击，选择"📊 上传PMS数据"选项

3. **查看结果**：
   - 上传过程中会显示"上传中..."状态
   - 上传成功后会显示"✅ 数据上传成功"消息
   - 上传失败会显示错误原因

## 插件功能验证

### 验证步骤

1. 确保插件已安装并配置完成
2. 访问指定的PMS报表页面
3. 检查页面右上角是否显示"📊 一键上传PMS数据"按钮
4. 右键点击页面，检查是否有"📊 上传PMS数据"选项
5. 点击上传按钮，验证数据是否成功上传

### 常见问题排查

1. **页面没有显示上传按钮**：
   - 确认访问的是指定的PMS页面
   - 刷新页面重试
   - 检查插件是否已启用

2. **上传失败**：
   - 检查API地址和门店ID配置是否正确
   - 检查网络连接
   - 打开浏览器控制台（F12）查看错误日志

3. **右键菜单没有上传选项**：
   - 确认访问的是指定的PMS页面
   - 重启Chrome浏览器
   - 重新安装插件

## 更新插件

如果插件代码有更新，您需要重新加载插件：

1. 打开Chrome扩展管理页面
2. 找到"PMS数据采集助手"插件
3. 点击插件卡片上的**刷新**按钮
4. 插件会使用最新的代码重新加载

## 卸载插件

1. 打开Chrome扩展管理页面
2. 找到"PMS数据采集助手"插件
3. 点击插件卡片上的**移除**按钮
4. 在确认对话框中点击**移除**

## 技术支持

如果您在安装或使用过程中遇到问题，请提供以下信息联系支持：

1. 问题描述
2. 浏览器版本
3. 操作系统
4. 浏览器控制台日志（F12 > 控制台）
5. 截图（如果适用）

---

**注意**：这是一个本地开发版本的插件，没有发布到Chrome Web Store。如果需要发布到应用商店，需要进行额外的打包和审核流程。